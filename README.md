# Моделирование транзакций с помощью тематического моделирования

В репозитории содержится код для подготовки синтетической выборки банковских транзакций к визуализации истории операций клиентов банка.

## Воспроизведение результатов экспериментов

Описание истории транзакций было выполнено в рамках тематического моделирования с помощью библиотеки тематического моделирования [BigARTM](https://github.com/bigartm/bigartm). Визуализация диаграмм осуществлена с помощью библиотеки [Plotly](https://github.com/plotly).

### Программные требования

Для выполнения скриптов из репозитория необходимо установить следующие пакеты прикладных программ:

* [NumPy](https://github.com/numpy/numpy);
* [pandas](https://github.com/pandas-dev/pandas);
* [Matplotlib](https://github.com/matplotlib/matplotlib);
* [tqdm](https://github.com/noamraph/tqdm);
* [Jupyter](https://github.com/jupyter);
* [IPython](https://github.com/ipython);
* [ipywidgets](https://github.com/jupyter-widgets/ipywidgets);
* [BigARTM](https://github.com/bigartm/bigartm);
* [Dash](https://github.com/bigartm/bigartm);
* [plotly.py](https://github.com/plotly/plotly.py);
* [scikit-learn](https://github.com/scikit-learn/scikit-learn);
* [SciPy](https://github.com/scipy).

### Запуск экспериментов

Для подготовки выборки для визуализации достаточно склонировать данный репозиторий в директорию, загрузить выборку по [ссылке](https://www.kaggle.com/ntnu-testimon/banksim1/downloads/synthetic-data-from-a-financial-payment-system.zip/1), распаковать архив в директорию, запустить jupyter notebook в директории, выполнить все ячейки [**Transactions modeling.ipynb**](Transactions%20modeling.ipynb).  

Для визуализации истории операций клиентов достаточно запустить скрипт [**transactionsvisualizer.py**](transactionsvisualizer.py) в интерпретаторе языка программирования Python3.5. В интерпретаторе будет указан адрес, по которому можно перейти в браузере на локальный сервер визуализатора. Обычно адрес принимает следующее значение: *http://127.0.0.1:8050/* . По адресу в браузере будет отображена интерактивная кнопка с надписью *Поднесите или выберите файл*, при нажатии на данную кнопку откроется диалоговое окно файлового менеджера, с помощью которого можно выбрать файл с историей операций клиента в директории *documents*, расположенной в репозитории.

### Описание возможностей визуализатора на основе Dash by plotly

Пример работы со скриптом визуализации:  
[![Demo TransVis](media/demo.gif)]()

#### Особенности визуализации

* Возможность масштабирования диаграмм выделением области;

* возможность сдвига координат для отображения скрытых частей диаграммы;

* синхронизация по осям трёх основных диаграмм: транзакции, распределение тем во времени, разметка;

* диаграммы снабжены дополнительными подписями, возникающими при наведении на них указателя, в подписях отображаются дополнительные параметры транзакции: возраст клиента, пол клиента, кодовые имена мерчантов, объём транзакции;

* поддержка вертикальных и горизонтальных линий, связанных с указателем мыши;

* наличие диаграмм, описывающих распределение токенов клиента и тем клиента.
